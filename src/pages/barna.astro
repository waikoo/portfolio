---
import Layout from "../layouts/Layout.astro";
import BarnaNameTag from "../components/BarnaNameTag.astro";
import BarnaMenu from "../components/BarnaMenu.astro";
import BarnaProjectCard from "../components/BarnaProjectCard.astro";
import { projects } from "../projects/data";

const endpoint = new URL(Astro.request.url);
---

<script>
  window.addEventListener("DOMContentLoaded", () => {
    const circle = document.querySelector(".barna-circle");
    circle!.classList.add("shrink");

    setTimeout(() => {
      circle!.classList.add("vanish");
    }, 500);
  });
</script>

<Layout title="SzÃ¡sz Barna">
  <main
    class="absolute bg-[url('/images/bubbles.jpg')] bg-cover bg-no-repeat bg-fixed h-[2000px]"
  >
    <video
      class="absolute w-screen h-[2000px] object-cover mix-blend-color-dodge"
      autoplay
      loop
      muted
      playsinline
      src="/videos/animated_gradient.mp4"></video>

    <div
      class="bg-[#206433] mix-blend-darken w-screen h-[2000px] relative z-10"
    >
    </div>

    <div class="absolute top-10">
      <BarnaNameTag />

      <div class="flex gap-32 relative z-50 mx-auto w-[85%] mt-[11rem]">
        <BarnaMenu current={endpoint} />

        <div class="-mt-[13.5rem] ml-[40rem]">
          {projects.map((project) => <BarnaProjectCard {...project} />)}
        </div>
      </div>
    </div>
  </main>
  <div
    class="absolute w-[575px] h-[575px] bg-[#ffcf25] rounded-full mix-blend-exclusion top-[18rem] left-[18rem] z-50 -translate-x-20 barna-circle overflow-x-hidden"
  >
  </div>
</Layout>

<style>
  .shrink {
    width: 28px;
    height: 28px;
    transition:
      transform 0.5s ease,
      width 0.5s ease,
      height 0.5s ease,
      color 0.5s ease;
    top: 21.5rem;
    left: 18rem;
    background-color: #c3f96a;
  }

  .vanish {
    opacity: 0;
  }
</style>
