---
import PersonHeaderLink from "./PersonHeaderLink.astro";
import PersonNameTag from "./PersonNameTag.astro";

const { endpoint } = Astro.props;

const lowercasedEndpoint = endpoint.toLowerCase();
const { url: currentUrl } = Astro.request;
const isOnProjects = currentUrl.split("/").at(-1) === endpoint.toLowerCase();
const isOnCV = currentUrl.includes("cv");
const isOnContact = currentUrl.includes("contact");
const isOnAbout = currentUrl.includes("about");
---

<header class="flex justify-between px-[100px] py-3 isolate items-center">
  <ul class="flex text-[#e296f5] text-[1rem] gap-[20px]">
    <PersonHeaderLink href="/">Home</PersonHeaderLink>
    <PersonHeaderLink
      href={`/${lowercasedEndpoint}`}
      isCurrentPage={isOnProjects}>Projects</PersonHeaderLink
    >
    <PersonHeaderLink href={`/${lowercasedEndpoint}/cv`} isCurrentPage={isOnCV}
      >CV</PersonHeaderLink
    >

    <PersonHeaderLink
      href={`/${lowercasedEndpoint}/contact`}
      isCurrentPage={isOnContact}>Contact</PersonHeaderLink
    >
    <PersonHeaderLink
      href={`/${lowercasedEndpoint}/about`}
      isCurrentPage={isOnAbout}>About</PersonHeaderLink
    >
  </ul>

  <PersonNameTag familyName="SZÁSZ" name="EVELIN" />
</header>
